Blast Game
=====================
Прототип игры с механикой Blast, написанный на TypeScript под Cocos Creator 2.4.15.

Игроку необходимо набрать заданное количество очков за ограниченное число ходов.

Репозиторий содержит исходники проекта и собранную веб‑версию и мобильную версию в каталоге docs/.

Основные механики
-----------------------------------

### Игровое поле

Поле размером **N × M** генерируется при старте. Тайлы создаются так, чтобы сразу не возникали группы из трёх и более одного цвета.

### Сжигание тайлов
При клике убирается вся связанная группа соседних тайлов того же цвета. Оставшиеся тайлы падают вниз, пустоты заполняются новыми тайлами.

### Супер‑тайлы
Если размер уничтоженной группы превышает superThreshold, на месте клика появляется супер‑тайл случайного типа (ракета уничтожающая строку либо столбец, радиус-бомба или бомба, уничтожающая всё поле). При активации супер‑тайл сжигает соответствующую область.

### Очки и ходы
Количество очков увеличивается на **groupSize * 10 + (groupSize - 2) * 5** за каждую успешную группу. После каждого хода счётчик ходов уменьшается.

### Автоперемешивание
Если после хода на поле не осталось допустимых групп, поле перемешивается автоматически до трёх раз. Если ходов не осталось и более перемешивать нельзя, игрок проигрывает.

### Бустеры
Бомба – уничтожает тайлы в радиусе одной клетки **(по три клетки в каждом направлении)** и тратит заряд бустера.

Телепорт – меняет местами два соседних тайла и тратит заряд бустера.

Повторное нажатие на кнопку активного бустера отменяет его выбор.

Число оставшихся зарядов отображается на экране, а активная кнопка подсвечивается анимацией.

### Перемешивание поля
Игрок может вручную перемешать поле, если у него остались попытки. Счётчик допустимых перемешиваний уменьшается при каждом использовании.

### Пользовательский интерфейс
Файл UIManager.ts управляет отображением очков, ходов и бустеров, а также всплывающими окнами победы/проигрыша и формой для запуска игры с пользовательскими параметрами. Отдельные скрипты реализуют анимации для кнопок (эффекты наведения и активного состояния).

### Запуск
Открыть docs/index.html в браузере.

[Web-desktop](https://japusta.github.io/blast_game/build_desktop/web-desktop/)

[Web-mobile](https://japusta.github.io/blast_game/build_mobile/web-mobile/)

Для запуска из редактора открыть проект в Cocos Creator 2.4.x и запустите сцену assets/Main.fire.

Описание файлов
-----------------------------------

**BoardModel.ts** – модель игрового поля с методами работы с сеткой, поиском групп и перемешиванием тайлов

**BoosterType.ts** – перечисление типов бустеров (бомба, телепорт)

**Boosters.ts** – классы конкретных бустеров (BombBooster и TeleportBooster) и логика их применения и учёта доступных зарядов

**ClickOutcome.ts** – тип результата обработки клика: какие изменения произошли, сколько очков начислить и расходуется ли ход

**ClickProcessor.ts** – алгоритм обработки кликов: определяет что удалять, как срабатывают супер-тайлы и бустеры, расчёт очков

**ClickResult.ts** – описание изменений после хода (удалённые, перемещённые и созданные тайлы, сведения о супертайле)

**GameFactory.ts** – фабрика, создающая GameModel вместе с доской, бустерами и обработчиком кликов

**GameModel.ts** – основная логика игры: счёт, количество ходов, перемещения тайлов и обработка кликов через ClickProcessor

**IBoardModel.ts** – интерфейс для модели игрового поля

**IBooster.ts** – интерфейс бустеров с методом use и учётом числа использований

**IClickProcessor.ts** – интерфейс обработчика кликов, возвращающего ClickOutcome

**ISuperHandler.ts** – интерфейс для обработки супер‑тайла, который собирает тайлы по заданному правилу

**SuperHandlers.ts** – набор реализаций ISuperHandler (строка, колонка, радиус, всё поле) и фабрика для их создания

**TileModel.ts** – класс тайла с цветом и возможным типом супертайла

**TileRandomizer.ts** – утилита для случайного выбора цвета и типа супертайла

**ButtonActiveEffect.ts** – компонент для визуального эффекта активной кнопки бустера (пульсация масштаба)

**ButtonHoverEffect.ts** – компонент анимации наведения на кнопку (смещение и изменение прозрачности)

**GameController.ts** – главный контроллер сцены: инициализация игры, обработка нажатий, вызов UIManager и GridView, а также ручное перемешивание поля

**GridView.ts** – управление отображением сетки тайлов и всеми анимациями (перемещение, удаление, эффекты супертайлов)

**IGridView.ts** – интерфейс представления игрового поля, описывающий методы рендера и анимаций

**TileView.ts** – компонент тайла сцены: установка спрайтов, обработка клика по тайлу и хранение префабов эффектов

**UIManager.ts** – управление пользовательским интерфейсом, обработка кнопок, всплывающих окон и отображение счётчиков бустеров и перемешиваний

